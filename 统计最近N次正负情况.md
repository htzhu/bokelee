# 
最近遇到一个小需求，需要监控统计一个操作最近N次操作成功和失败的次数。  
如果保存最近N次的状态，需要维持一个N大小的队列。计算机上的最小单位是bit，那么我们可以用一个位来表示一个操作的状态（成功/失败）。  
借用java基础类型的long，可以模拟一个大小为64的队列，及N=64时候的情况。队列出队入队用移位+或操作实现。还需要一个数来记录队列中元素个数。  
这样统计问题就转换为这个整数二进制表示中1的个数（0的个数）。用下面的代码统计：

```
　　　　  While(value > 0) {
	   //每次&都能把其最右边的1消除掉
　　　　　　value = value & (value - 1)
　　　　　　count +=1
	   }

```
参考：  
判断一个整数x是否是2的N次方。  
判断x & (x - 1)==0。若为True，则x是2的N次方；若为False，则x不是2的N次方。